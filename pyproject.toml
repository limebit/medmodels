[project]
name = "medmodels"
version = "0.0.1"
description = "Limebit Medmodels Package"
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
    "numpy==2.0.0",
    "pandas==2.2.2",
    "polars[pandas]==0.20.31",
    "scikit-learn==1.5.0",
    "typing-extensions==4.12.2",
]

[project.optional-dependencies]
dev = [
    "maturin==1.6.0",
    "ruff==0.4.9",
    "py-spy==0.3.14",
    "pyright==1.1.367",
    "pandas-stubs==2.2.2.240603",
]
tests = ["pytest==8.2.2"]

[build-system]
requires = ["maturin==1.6.0", "setuptools"]
build-backend = "maturin"

[tool.maturin]
features = ["pyo3/extension-module"]
exclude = ["tests", "examples"]
manifest-path = "rustmodels/Cargo.toml"
module-name = "medmodels._medmodels"

[tool.ruff]
exclude = [
    "__pycache__",
    ".git",
    ".github",
    ".pytest_cache",
    ".ruff_cache",
    ".venv",
]
line-length = 88

[tool.pyright]
typeCheckingMode = "strict"
include = [
    "medmodels/medrecord",
    "medmodels/_medmodels.pyi",
    "medmodels/matching",
]
reportPrivateUsage = false
reportIncompatibleMethodOverride = false
reportUnknownArgumentType = false
reportUnknownVariableType = false
reportUnknownMemberType = false
reportMissingModuleSource = false
reportMissingTypeStubs = false

[tool.pytest]
python_files = "test_*.py"
