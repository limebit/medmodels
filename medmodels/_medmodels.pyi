from typing import Dict, List, Optional, Union

from polars import DataFrame

MedRecordAttribute = Union[str, int]
MedRecordValue = Union[str, int, float, bool]
NodeIndex = MedRecordAttribute
EdgeIndex = int
Group = MedRecordAttribute
Attributes = Dict[MedRecordAttribute, MedRecordValue]

class PyMedRecord:
    nodes: List[NodeIndex]
    edges: List[EdgeIndex]
    groups: List[Group]

    def __init__(self) -> None: ...
    @staticmethod
    def from_tuples(
        nodes: List[tuple[NodeIndex, Attributes]],
        edges: Optional[List[tuple[NodeIndex, NodeIndex, Attributes]]],
    ) -> PyMedRecord: ...
    @staticmethod
    def from_dataframes(
        nodes_dataframe: DataFrame,
        nodes_index_column_name: str,
        edges_dataframe: DataFrame,
        edges_from_index_column_name: str,
        edges_to_index_column_name: str,
    ) -> PyMedRecord: ...
    @staticmethod
    def from_nodes_dataframe(
        nodes_dataframe: DataFrame,
        nodes_index_column_name: str,
    ) -> PyMedRecord: ...
    def node_count(self) -> int: ...
    def edge_count(self) -> int: ...
    def group_count(self) -> int: ...
    def node(self, *node_index: NodeIndex) -> Dict[NodeIndex, Attributes]: ...
    def edge(self, *edge_index: EdgeIndex) -> Dict[EdgeIndex, Attributes]: ...
    def edges_connecting(
        self, source_node_index: NodeIndex, target_node_index: NodeIndex
    ) -> List[EdgeIndex]: ...
    def group(self, *group: Group) -> Dict[Group, List[NodeIndex]]: ...
    def add_node(self, node_index: NodeIndex, attributes: Attributes) -> None: ...
    def add_nodes(self, nodes: List[tuple[NodeIndex, Attributes]]) -> None: ...
    def add_nodes_dataframe(
        self, nodes_dataframe: DataFrame, index_column_name: str
    ) -> None: ...
    def add_edge(
        self,
        source_node_index: NodeIndex,
        target_node_index: NodeIndex,
        attributes: Attributes,
    ) -> EdgeIndex: ...
    def add_edges(
        self, edges: List[tuple[NodeIndex, NodeIndex, Attributes]]
    ) -> List[EdgeIndex]: ...
    def add_edges_dataframe(
        self,
        edges_dataframe: DataFrame,
        from_index_column_name: str,
        to_index_column_name: str,
    ) -> List[EdgeIndex]: ...
    def add_group(
        self, group: Group, node_indices_to_add: Optional[List[NodeIndex]]
    ) -> None: ...
    def remove_group(self, group: Group) -> None: ...
    def remove_from_group(self, group: Group, node_index: NodeIndex) -> None: ...
    def add_to_group(self, group: Group, *node_index: NodeIndex) -> None: ...
    def neighbors(self, *node_index: NodeIndex) -> Dict[NodeIndex, List[NodeIndex]]: ...
